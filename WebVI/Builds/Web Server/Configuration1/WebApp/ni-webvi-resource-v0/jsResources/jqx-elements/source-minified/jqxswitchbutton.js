"use strict";JQX("jqx-switch-button",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div  id='container' class='jqx-container'>\n                    <div  id='innerContainer' class ='jqx-inner-container'>\n                           <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class ='jqx-false-content-container'></span>\n                           <span id='switchThumb' class ='jqx-thumb'></span>\n                           <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class ='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}},{key:"ready",value:function(){var e=this;e._supportCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-switch-button-width")),e._updateAnimationsCSSvariables("0","0"),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._updateHidenInputNameAndValue()}},{key:"_clickHandler",value:function(){var e=this;e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode?(event.preventDefault(),event.stopPropagation()):e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}},{key:"_mouseDownHandler",value:function(){var e=this;e._updateContentProperties(),e.disabled||e.readonly||"release"!==e.clickMode&&"click"===e.switchMode&&(e._updateStateOnClick(),e.$.fireEvent("click"),e.indeterminate=!1,e._updateHidenInputNameAndValue())}},{key:"_updateStateOnClick",value:function(){var e=this,t=null===e.checked?e._switchTrackLength/2:e._switchTrackLength;e._updateAnimationsCSSvariables(t,-t),e._changeCheckState(),e.focus()}},{key:"_switchThumbDragStartHandler",value:function(e){var t=this;"click"===t.switchMode&&"release"!==t.clickMode&&(e.preventDefault(),e.stopPropagation()),t._isInactiveOn("drag")||(t._mouseDown=!0,t._getContainersSizeAndBreakPoint(),t._dragStartOffset=t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,e.preventDefault())}},{key:"_selectStartHandler",value:function(e){this._mouseDown&&e.preventDefault()}},{key:"_switchThumbDragHandler",value:function(e){var t=this;if(!t._isInactiveOn("drag")){if(t._mouseDown===!1)return void t._removeDragStyles();var n=t.$.innerContainer,i=t.$.container.getBoundingClientRect(),a="vertical"===t.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,r="vertical"===t.orientation?i.top+a:i.left+a,o="vertical"===t.orientation?t._pointerPosition-n.offsetTop:t._pointerPosition-n.offsetLeft,s=t._pointerPosition>=r&&t._pointerPosition<=r+t._switchContainerSize;if(t.$switchThumb.addClass("dragged"),t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,s){var l=t._pointerPosition-o;l<-t._switchTrackLength&&(l=-t._switchTrackLength),l>0&&(l=0),"vertical"===t.orientation?t.$.innerContainer.style.top=l+"px":t.$.innerContainer.style.left=l+"px"}}}},{key:"_switchThumbDropHandler",value:function(e){var t=this;if(t.indeterminate=!1,t._updateHidenInputNameAndValue(),!t._isInactiveOn("drag")&&t._mouseDown){e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault());var n="vertical"===t.orientation?t.$.innerContainer.offsetTop+t.$.switchThumb.offsetTop+t.$.switchThumb.clientHeight/2:t.$.innerContainer.offsetLeft+t.$.switchThumb.offsetLeft+t.$.switchThumb.clientWidth/2,i="vertical"===t.orientation?t.$.innerContainer.offsetTop+t._switchTrackLength:t.$.innerContainer.offsetLeft+t._switchTrackLength,a=t._switchTrackLength-i;t.inverted?t._updateAnimationsCSSvariables(a,-i):t._updateAnimationsCSSvariables(i,-a);var r=n>t._switchBreakPoint;null!==t.checked?!t.inverted==(r===t.checked)&&t._changeCheckState(!t.checked):r?t.inverted?t._changeCheckState(!0):t._changeCheckState(!1):t.inverted?t._changeCheckState(!1):t._changeCheckState(!0),t._removeDragStyles()}}},{key:"_switchButtonOnMouseEnter",value:function(){var e=this;e.disabled||e.readonly||e.$.addClass("hovered")}},{key:"_switchButtonOnMouseLeave",value:function(){var e=this;e.disabled||e.readonly||e.$.removeClass("hovered")}},{key:"_isInactiveOn",value:function(e){var t=this;return t.disabled||t.readonly||t.switchMode!==e}},{key:"_keyUpHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly&&32===e.keyCode){var n=null===t.checked?t._switchTrackLength/2:t._switchTrackLength;t._getContainersSizeAndBreakPoint(),t._updateAnimationsCSSvariables(n,-n),t._changeCheckState()}}},{key:"_initializePrivateVariables",value:function(){var e=this;e._dragStartOffset=e._switchContainerSize=e._switchTrackLength=e._switchBreakPoint=e._pointerPosition=0,e._dragged=e._mouseDown=!1}},{key:"_changeCheckState",value:function(e){var t=this,n=t.checked;if(null===n&&void 0!==e)return t.$.fireEvent("change",{value:e,oldValue:null}),void(t.checked=e);null===t.checked?t.checked=!0:t.checked=!t.checked,t.$.fireEvent("change",{value:t.checked,oldValue:n}),t._updateHidenInputNameAndValue()}},{key:"_getContainersSizeAndBreakPoint",value:function(){var e=this;e._switchContainerSize="vertical"===e.orientation?e.$.container.clientHeight:e.$.container.clientWidth,e._switchTrackLength="vertical"===e.orientation?e._switchContainerSize-e.$.switchThumb.clientHeight:e._switchContainerSize-e.$.switchThumb.clientWidth,e._switchBreakPoint=e._switchContainerSize/2}},{key:"_updateAnimationsCSSvariables",value:function(e,t){var n=this;n._supportCSSVariables&&(n.$.container.style.setProperty("--jqx-switch-button-label-animation-offset-normal",e+"px"),n.$.container.style.setProperty("--jqx-switch-button-label-animation-offset-inverse",t+"px"))}},{key:"_removeDragStyles",value:function(){var e=this;e.$switchThumb.removeClass("dragged"),e.$.switchThumb.removeAttribute("style"),e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.left="",e._supportCSSVariables?e.$.innerContainer.removeAttribute("style"):e.$.innerContainer.style.top="",e._mouseDown=!1,e._dragStartOffset=0}},{key:"propertyChangedHandler",value:function(e,n,i){var a=this,r=a._switchTrackLength/2;switch(null===i?n===!0?(r=a.inverted===!0?r:-r,a._updateAnimationsCSSvariables(r,0)):(r=a.inverted===!0?-r:r,a._updateAnimationsCSSvariables(r,0)):null===n?a._updateAnimationsCSSvariables(r,-r):a._updateAnimationsCSSvariables(a._switchTrackLength,-a._switchTrackLength),babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,n,i),a._updateContentProperties(),e){case"indeterminate":i?(a._valueCashe=a.checked,a.checked=null):a.checked=a._valueCashe;break;case"trueContent":a.trueContent=i;break;case"falseContent":a.falseContent=i;break;case"orientation":a._resizeHandler()}a._getContainersSizeAndBreakPoint(),a._removeDragStyles(),a._resizeHandler()}},{key:"_resizeHandler",value:function(){function e(e){return parseInt(n.getPropertyValue(e).replace("px",""))}var t=this,n=window.getComputedStyle(t,null),i=e("border-top-width"),a=e("border-right-width"),r=e("border-bottom-width"),o=e("border-left-width"),s="vertical"===t.orientation?t.offsetHeight-(i+r):t.offsetWidth-(o+a);t._getContainersSizeAndBreakPoint(),t._supportCSSVariables?t.$.container.style.setProperty("--jqx-switch-button-width",s+"px"):("horizontal"===t.orientation?t.$.innerContainer.style.setProperty("width",2*s-t.$.switchThumb.clientWidth+"px"):t.$.innerContainer.style.setProperty("height",2*s-t.$.switchThumb.clientHeight+"px"),"horizontal"===t.orientation?t.$.trueContentContainer.style.setProperty("width",t._switchTrackLength+"px"):t.$.trueContentContainer.style.setProperty("height",t._switchTrackLength+"px"),"horizontal"===t.orientation?t.$.falseContentContainer.style.setProperty("width",t._switchTrackLength+"px"):t.$.falseContentContainer.style.setProperty("height",t._switchTrackLength+"px"),"horizontal"===t.orientation?t.$.innerContainer.style.setProperty("height","100%"):t.$.innerContainer.style.setProperty("width","100%"),"horizontal"===t.orientation?t.$.trueContentContainer.style.setProperty("height","100%"):t.$.trueContentContainer.style.setProperty("width","100%"),"horizontal"===t.orientation?t.$.falseContentContainer.style.setProperty("height","100%"):t.$.falseContentContainer.style.setProperty("width","100%"))}}],[{key:"properties",get:function(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"drag",allowedValues:["click","drag"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}},{key:"listeners",get:function(){return{"container.down":"_mouseDownHandler","innerContainer.down":"_switchThumbDragStartHandler","document.move":"_switchThumbDragHandler","document.up":"_switchThumbDropHandler","container.click":"_clickHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}}]),t}(JQX.ToggleButton));
//# sourceMappingURL=jqxswitchbutton.js.map
